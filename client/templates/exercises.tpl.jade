div.exercises
	div.input-group
		th-dropdown(
			class="input-group-btn",
			options="data.muscleGroups"
			selected="data.muscleGroup"
		)

		input.form-control(
			type="text"
			ng-model="data.searchText"
			placeholder="search exercise"

		)
		//- span.input-group-btn
			button.btn.btn-default(type="button")
				i.fa.fa-search


	p.text-danger(ng-show="data.filtered.length == 0" ) No entries


	ul.th-justified-list
		li(ng-repeat="exr in data.filtered = (data.exercises | filter:data.searchText | musclegroup:data.muscleGroup)")
			div.thumb
				i.fa.fa-picture-o

			h2(ng-bind="exr.title")

			a.btn.btn-default(role="button", ng-href="/#/exercise/{{exr._id}}")
				i.fa.fa-chevron-right

			ul.tags
				li(ng-repeat="m in exr.muscles")
					i.fa.fa-male
					span(ng-bind="m.name")


	//- TODO: make it th-modal


	button.btn.btn-primary(
		data-toggle="modal"
		data-target="#addExerciseModal"
	)
		i.fa.fa-plus
		span &nbsp;add exercise


	div.modal.fade(
		id="addExerciseModal"
		tabindex="-1"
		role="dialog"
	)
		div.modal-dialog
			div.modal-content
				div.modal-header
					button.close(
						type="button"
						data-dismiss="modal"
						aria-hidden="true"
					) &times;

					h4.modal-title add exercise

				div.modal-body
					form.form-horizontal(role="form", name="exrcForm", ng-submit="submitForm()")
						div.form-group
							label.col-sm-2.control-label(for="exrcTitleInp") Title
							//- ( ng-class="{ 'has-error' : exrcForm.title.$invalid && !exrcForm.title.$pristine }" )
							div.col-sm-10
								input.form-control(
									id="exrcTitleInp"
									type="text"
									name="title"
									placeholder="exercise title"
									ng-model="addForm.title"
									ng-required="true"
								)

						div.form-group
							label.col-sm-2.control-label(for="exerciseDescrInp") Description
							div.col-sm-10
								textarea.form-control(
									id="exerciseDescrInp",
									rows="3",
									placeholder="exercise description",
									ng-model="addForm.descr"
								)

						div.form-group
							label.col-sm-2.control-label Muscles
							div.col-sm-10
								//- TODO: generalize th-chosen
								muscle-chosen(
									options="data.muscles"
									selected="addForm.muscles"
								)

						div.form-group
							div.col-sm-offset-2.col-sm-10
								button.btn.btn-default.pull-right(type="submit")
									i.fa.fa-plus
									span &nbsp;add exercise



